# 大量数据，多字段唯一判断表结构设计

## 事件描述

- 要求设计一个接口，需要大批量添加数据，但是有两个字段需要唯一，并且这两个字段只需要保证有一个字段必传

## 以前设计

- 一个表中设置了这两个字段，用mongodb进行储存

## 出现问题

- 一但数据量过大，两个字段的唯一判断会有很大的麻烦，同时又不能建立相应的索引


## 想到的解决方案
- 在表中新增一个字段，由于区别这两字段，每个表中只存一个字段，这样就可以很方便的建立索引

- 缺点：
	- 数据量可能会增大一倍